#include<stdio.h>
#include<stdlib.h>
struct node{
int val;
struct node *left;
struct node *right;
};
struct node *newnode(int data){
struct node *p;
p=(struct node *)malloc(sizeof(struct node));
p->val=data;
p->left=p->right=NULL;
return p;
}
void inorder(struct node *p){
     if(p!=NULL){
        inorder(p->left);
        printf(" %d ",p->val);
        inorder(p->right);
    }
}
struct node *insertlevelorder(int arr[],struct node *root,int i,int n){
if(i<n){
        struct node *temp=newnode(arr[i]);
        root=temp;

root->left=insertlevelorder(arr,root->left,2*i+1,n);
root->right=insertlevelorder(arr,root->right,2*i+2,n);
}
return root;
}
int height(struct node* root)
{
    if (root == NULL)
        return 0;
    else {
        
        int lDepth = height(root->left);
        int rDepth = height(root->right);
 
        
        if (lDepth > rDepth)
            return (lDepth + 1);
        else
            return (rDepth + 1);
    }
}
int max(int a,int b){
    return a>b?a:b;
}
int diameter(struct node* root)
{
    // base case where tree is empty
    if (root == NULL)
        return 0;
 
    // get the height of left and right sub-trees
    int lheight = height(root->left);
    int rheight = height(root->right);
 
    // get the diameter of left and right sub-trees
    int ldiameter = diameter(root->left);
    int rdiameter = diameter(root->right);
 
    // Return max of following three
    // 1) Diameter of left subtree
    // 2) Diameter of right subtree
    // 3) Height of left subtree + height of right subtree + 1
 
    return max(lheight + rheight + 1,
               max(ldiameter, rdiameter));
}
int main(){
int arr[10],k,n;
printf("Enter number of terms:");
scanf("%d",&n);
for(k=0;k<n;k++){
    printf("Enter element:");
    scanf("%d",&arr[k]);
}
struct node* root=insertlevelorder(arr,root,0,n);
inorder(root);
printf("\nThe diameter of tree is %d",diameter(root));

}
