#include<stdio.h>
#include<stdlib.h>
#define MAX 100
struct stack{
    int top;
    int data[MAX];
}s1;
typedef struct stack STACK;
void push(STACK *s,int ele){
    if(s->top==MAX-1)
        printf("\nOVERFLOW\n");
    else{
        s->top++;
        s->data[s->top]=ele;
    }
    return;
}
int pop(STACK *s){
    if(s->top==-1){
        printf("\nUNDERFLOW\n");
        return -32456;}
    else{
        return s->data[s->top--];
    }
}
void display (STACK s)
{
  int i;
  if (s.top == -1)
    printf ("stack is empty\n");
  else
    {
      printf ("elements of the stack are\n");
      for (i = s.top; i >= 0; i--)
	printf ("\n%d\n", s.data[i]);
    }
}
int midelement(STACK *s){
    int i,j;
    j=(s->top)/2;
    for(i=s->top;i>j;i--){
         push(&s1,pop(s));
         
    }
        

   return s->data[s->top];
} 
int main(){
  STACK s;
  s1.top=-1;

  int item, ch, n;
  int k;
  s.top = -1;
  for (;;){
       
      printf ("\n1 PUSH\t2 POP\t3 DISPLAY\t 4.MIDDLE ELEMENT\n");

      scanf ("%d", &ch);
      switch (ch)
	{
	case 1:
	  printf ("enter element: ");
	  scanf ("%d", &item);
	  push (&s, item);
	  break;
	case 2:
	  k=pop(&s);
	  if(k!=-32456)
	  printf ("popped element is %d", k);
	  break;
	  case 3:
	  display(s);
	  break;

	case 4:
	  printf("The middle element is %d",midelement(&s));
	  break;
	  default:exit(0);
  }
}}








